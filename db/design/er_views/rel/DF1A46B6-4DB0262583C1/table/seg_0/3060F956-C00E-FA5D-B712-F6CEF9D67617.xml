<?xml version = '1.0' encoding = 'UTF-8'?>
<Table class="oracle.dbtools.crest.model.design.relational.Table" directorySegmentName="seg_0" id="3060F956-C00E-FA5D-B712-F6CEF9D67617" schemaObject="467C9D78-14EE-283D-5271-3C94AD8626A0" name="BIOQC_RES_CONTAM">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>SRSLIGHT</sourceObjSchema>
<sourceObjName>BIOQC_RES_CONTAM</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:26 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<typeID>4</typeID>
<allowColumnReorder>false</allowColumnReorder>
<existDependencyGenerateInDDl>true</existDependencyGenerateInDDl>
<materializedQueryTable>true</materializedQueryTable>
<userDefinedSQL>with &lt;br/&gt;  expected_signatures as (&lt;br/&gt;    select  bts.* &lt;br/&gt;          , bs.name as signature_name&lt;br/&gt;    from bioqc_tissue_set bts&lt;br/&gt;    join bioqc_signatures bs on bs.id = bts.signature&lt;br/&gt;  ), &lt;br/&gt;  bioqc_res_fil_tset as (&lt;br/&gt;    select  brf.gsm&lt;br/&gt;          , brf.tissue&lt;br/&gt;          , bts.tgroup&lt;br/&gt;          , bts.tissue_set &lt;br/&gt;          , brf.signature&lt;br/&gt;          , brf.signature_name&lt;br/&gt;          , brf.pvalue&lt;br/&gt;    from bioqc_res_fil brf&lt;br/&gt;    join bioqc_tissue_set bts &lt;br/&gt;      on bts.tissue = brf.tissue&lt;br/&gt;    -- make sure only the signature from the same signature set are included. &lt;br/&gt;    where brf.signature in (&lt;br/&gt;      select bts2.signature&lt;br/&gt;      from bioqc_tissue_set bts2&lt;br/&gt;      where bts2.tissue_set = bts.tissue_set&lt;br/&gt;    )&lt;br/&gt;  )&lt;br/&gt;  select /*+ PARALLEL(16) */  distinct -- distinct, because tissue -&gt; tissue_group -&gt; tissue is not unique. &lt;br/&gt;                              brf.gsm&lt;br/&gt;                            , brf.tissue&lt;br/&gt;                            , brf.tgroup&lt;br/&gt;                            , brf.tissue_set&lt;br/&gt;                            , brf.signature&lt;br/&gt;                            , brf.signature_name&lt;br/&gt;                            , brf.pvalue                            &lt;br/&gt;                            , es.signature as exp_sig&lt;br/&gt;                            , es.signature_name as exp_sig_name&lt;br/&gt;                            , brf2.pvalue as exp_sig_pvalue&lt;br/&gt;                            , log(10, cast(brf2.pvalue / brf.pvalue as binary_float)) as enrichment_ratio &lt;br/&gt;  from bioqc_res_fil_tset brf&lt;br/&gt;  &lt;br/&gt;  -- get all signatures related to tissue groups (&quot;expected signatures&quot;)&lt;br/&gt;  join expected_signatures es &lt;br/&gt;    on es.tgroup = brf.tgroup&lt;br/&gt;    and es.tissue_set = brf.tissue_set&lt;br/&gt;  &lt;br/&gt;  -- get pvalues of expected signatures. Match them to the respective sample.  &lt;br/&gt;  join bioqc_res_fil_tset brf2 &lt;br/&gt;    on brf2.gsm = brf.gsm &lt;br/&gt;    and brf2.signature = es.signature &lt;br/&gt;    &lt;br/&gt;  -- exclude expected signatures (e.g. jejunum having a high enrichment ratio&lt;br/&gt;  -- in relation to colon)&lt;br/&gt;  where brf.signature not in (&lt;br/&gt;    select signature&lt;br/&gt;    from expected_signatures es2&lt;br/&gt;    where es2.tgroup = brf.tgroup&lt;br/&gt;    and es2.tissue_set = brf.tissue_set&lt;br/&gt;  )&lt;br/&gt;  &lt;br/&gt;--  where 1 = 1&lt;br/&gt;  </userDefinedSQL>
<columns itemClass="oracle.dbtools.crest.model.design.relational.Column">
<Column name="GSM" id="DFD71AD8-85EF-853B-E824-EE3168AA3E02">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>GSM</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT024</logicalDatatype>
<dataTypeSize>10 BYTE</dataTypeSize>
<ownDataTypeParameters>10 BYTE,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="TISSUE" id="B7C87F97-1CA5-BAEF-F06C-771B8DA63737">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>TISSUE</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT024</logicalDatatype>
<dataTypeSize>80 BYTE</dataTypeSize>
<ownDataTypeParameters>80 BYTE,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="TGROUP" id="0ECEA837-9263-BAF5-4854-E488CF3735C4">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>TGROUP</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT024</logicalDatatype>
<dataTypeSize>80 BYTE</dataTypeSize>
<ownDataTypeParameters>80 BYTE,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="TISSUE_SET" id="BB97197B-F331-A648-607A-18F0B2835326">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>TISSUE_SET</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT024</logicalDatatype>
<dataTypeSize>80 BYTE</dataTypeSize>
<ownDataTypeParameters>80 BYTE,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="SIGNATURE" id="B7442946-B59D-3493-9BA3-27D3698D8FAE">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>SIGNATURE</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT019</logicalDatatype>
<dataTypePrecision>10</dataTypePrecision>
<dataTypeScale>0</dataTypeScale>
<ownDataTypeParameters>,10,0</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="SIGNATURE_NAME" id="07A3D70F-AC1B-D1AC-F50E-B1690AD1258B">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>SIGNATURE_NAME</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT024</logicalDatatype>
<dataTypeSize>255 BYTE</dataTypeSize>
<ownDataTypeParameters>255 BYTE,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="PVALUE" id="26485236-1F4B-310F-83FD-07F61A39398A">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>PVALUE</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<nullsAllowed>true</nullsAllowed>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT056</logicalDatatype>
<dataTypeSize>8</dataTypeSize>
<ownDataTypeParameters>8,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="EXP_SIG" id="8272972B-7961-E4C1-32E0-337527C82E6B">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>EXP_SIG</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT019</logicalDatatype>
<dataTypePrecision>10</dataTypePrecision>
<dataTypeScale>0</dataTypeScale>
<ownDataTypeParameters>,10,0</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="EXP_SIG_NAME" id="7A7F71D2-F065-D81B-9C7F-0892CA2B707E">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>EXP_SIG_NAME</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT024</logicalDatatype>
<dataTypeSize>255 BYTE</dataTypeSize>
<ownDataTypeParameters>255 BYTE,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="EXP_SIG_PVALUE" id="9A5B4B44-AA5D-3AE1-B2B9-56AA19218AA4">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>EXP_SIG_PVALUE</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<nullsAllowed>true</nullsAllowed>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT056</logicalDatatype>
<dataTypeSize>8</dataTypeSize>
<ownDataTypeParameters>8,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
<Column name="ENRICHMENT_RATIO" id="BBB6A8E5-133B-653D-5222-F36D93213873">
<sourceConnName>bin_srslight</sourceConnName>
<sourceObjSchema>BIOQC_RES_CONTAM</sourceObjSchema>
<sourceObjName>ENRICHMENT_RATIO</sourceObjName>
<createdBy>sturmg</createdBy>
<createdTime>2016-12-15 08:33:27 UTC</createdTime>
<ownerDesignName>er_views</ownerDesignName>
<nullsAllowed>true</nullsAllowed>
<useDomainConstraints>false</useDomainConstraints>
<use>1</use>
<logicalDatatype>LOGDT056</logicalDatatype>
<dataTypeSize>8</dataTypeSize>
<ownDataTypeParameters>8,,</ownDataTypeParameters>
<autoIncrementCycle>false</autoIncrementCycle>
</Column>
</columns>
</Table>